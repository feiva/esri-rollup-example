define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/BasemapToggle","esri/widgets/BasemapToggle/BasemapToggleViewModel","dojo/i18n!./nls/strings"],function(e,a,t,i,n,s,d,p,l){function o(e){return e.replace?e.replace(/-|_/g," "):e}e="default"in e?e["default"]:e,a="default"in a?a["default"]:a,t="default"in t?t["default"]:t,i="default"in i?i["default"]:i,n="default"in n?n["default"]:n,s="default"in s?s["default"]:s,d="default"in d?d["default"]:d,p="default"in p?p["default"]:p,l="default"in l?l["default"]:l;var r={mapProps:{center:[-122.33,37.75],zoom:11,basemap:"dark-gray"},secondaryBasemap:"streets",fuelingStationLayerProps:{url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Alternative_Fueling_Stations/FeatureServer/0",popupTemplate:{title:"{Station_Na}",content:'\n        <p>{Street_Add}<br>\n        {City}, {State}, {ZIP}</p>\n\n        <p><b>Fuel Type:</b> {Fuel_Type}</p>\n        <p><b>Phone:</b> <a href="tel:{Station_Ph}">{Station_Ph}</a></p>\n        <p><b>Open to:</b> {Groups_Wit}</p>\n        <p><b>Hours:</b> {Access_Day}</p>'},outFields:["Station_Na","Street_Add","City","State","ZIP","Fuel_Type","Station_Ph","Groups_Wit","Access_Day"]}},u=e([],{init:function(e){this.map=new i({basemap:e.basemap}),delete e.basemap,e.map=this.map,this.view=new n(e)},createBasemapToggle:function(e,a){return e&&a&&this.view?new d({viewModel:new p({view:this.view,secondaryBasemap:a})},e):void 0},addFeatureLayer:function(e){if(this.map){var a=new s(e);return this.map.add(a),a}}});if(!c)var c=new u;var g='<div class="panel panel-default">\r\n  <div class="panel-heading">\r\n    <h3 class="panel-title" data-dojo-attach-point="titleNode"></h3>\r\n  </div>\r\n  <div class="panel-body">\r\n    <h4><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> ${nls.About}</h4>\r\n    <p>${nls.sidePanelMessage}</p>\r\n  </div>\r\n</div>\r\n',h=e([a,t],{baseClass:"side-panel",nls:l,templateString:g,_setTitleAttr:{node:"titleNode",type:"innerHTML"}}),m=e([a,t],{baseClass:"app",templateString:'\n    <div>\n      <div data-dojo-attach-point="mapNode" class="map-container">\n        <div data-dojo-attach-point="sidePanelNode"></div>\n        <div data-dojo-attach-point="basemapToggleNode" class="basemap-toggle" />\n      </div>\n    </div>\n  ',postCreate:function(){var e=this;this.inherited(arguments),r.mapProps.container=this.mapNode,c.init(r.mapProps),this.sidePanel=new h({},this.sidePanelNode),this.basemapToggle=c.createBasemapToggle(this.basemapToggleNode,r.secondaryBasemap),c.addFeatureLayer(r.fuelingStationLayerProps).then(function(a){e.sidePanel.set("title",o(a.title||a.name))})},startup:function(){this.sidePanel.startup(),this.basemapToggle.startup()}});window.app=new m({},"app"),window.app.startup()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJkZWNsYXJlIiwiX1dpZGdldEJhc2UiLCJfVGVtcGxhdGVkTWl4aW4iLCJNYXAiLCJNYXBWaWV3IiwiRmVhdHVyZUxheWVyIiwiQmFzZW1hcFRvZ2dsZSIsIkJhc2VtYXBUb2dnbGVWTSIsInN0cmluZ3MiLCJmb3JtYXRUaXRsZSIsInRpdGxlIiwicmVwbGFjZSIsImNvbmZpZyIsIm1hcFByb3BzIiwiY2VudGVyIiwiem9vbSIsImJhc2VtYXAiLCJzZWNvbmRhcnlCYXNlbWFwIiwiZnVlbGluZ1N0YXRpb25MYXllclByb3BzIiwidXJsIiwicG9wdXBUZW1wbGF0ZSIsImNvbnRlbnQiLCJvdXRGaWVsZHMiLCJNYXBTZXJ2aWNlIiwiaW5pdCIsIm9wdGlvbnMiLCJ0aGlzIiwibWFwIiwidmlldyIsImNyZWF0ZUJhc2VtYXBUb2dnbGUiLCJub2RlIiwidmlld01vZGVsIiwiYWRkRmVhdHVyZUxheWVyIiwicHJvcHMiLCJmZWF0dXJlTGF5ZXIiLCJhZGQiLCJfaW5zdGFuY2UiLCJ0ZW1wbGF0ZSIsIlNpZGVQYW5lbCIsImJhc2VDbGFzcyIsIm5scyIsInRlbXBsYXRlU3RyaW5nIiwiX3NldFRpdGxlQXR0ciIsInR5cGUiLCJBcHAiLCJwb3N0Q3JlYXRlIiwiX3RoaXMiLCJpbmhlcml0ZWQiLCJhcmd1bWVudHMiLCJjb250YWluZXIiLCJtYXBOb2RlIiwic2lkZVBhbmVsIiwic2lkZVBhbmVsTm9kZSIsImJhc2VtYXBUb2dnbGUiLCJiYXNlbWFwVG9nZ2xlTm9kZSIsInRoZW4iLCJsYXllciIsInNldCIsIm5hbWUiLCJzdGFydHVwIiwid2luZG93IiwiYXBwIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUSxxQkFBc0Isb0JBQXFCLHdCQUF5QixXQUFZLHFCQUFzQiwyQkFBNEIsNkJBQThCLG9EQUFxRCwyQkFBNEIsU0FBVUMsRUFBU0MsRUFBYUMsRUFBaUJDLEVBQUtDLEVBQVNDLEVBQWNDLEVBQWVDLEVBQWlCQyxHQXdGcFcsUUFBU0MsR0FBWUMsR0FDbkIsTUFBS0EsR0FBTUMsUUFNSkQsRUFBTUMsUUFBUSxPQUFRLEtBSnBCRCxFQXpGWFYsRUFBVSxXQUFhQSxHQUFVQSxFQUFRLFdBQWFBLEVBQ3REQyxFQUFjLFdBQWFBLEdBQWNBLEVBQVksV0FBYUEsRUFDbEVDLEVBQWtCLFdBQWFBLEdBQWtCQSxFQUFnQixXQUFhQSxFQUM5RUMsRUFBTSxXQUFhQSxHQUFNQSxFQUFJLFdBQWFBLEVBQzFDQyxFQUFVLFdBQWFBLEdBQVVBLEVBQVEsV0FBYUEsRUFDdERDLEVBQWUsV0FBYUEsR0FBZUEsRUFBYSxXQUFhQSxFQUNyRUMsRUFBZ0IsV0FBYUEsR0FBZ0JBLEVBQWMsV0FBYUEsRUFDeEVDLEVBQWtCLFdBQWFBLEdBQWtCQSxFQUFnQixXQUFhQSxFQUM5RUMsRUFBVSxXQUFhQSxHQUFVQSxFQUFRLFdBQWFBLENBRXRELElBQUlJLElBQ0ZDLFVBQ0VDLFFBQVMsUUFBUyxPQUNsQkMsS0FBTSxHQUNOQyxRQUFTLGFBRVhDLGlCQUFrQixVQUNsQkMsMEJBQ0VDLElBQUssaUhBQ0xDLGVBQ0VWLE1BQU8sZUFDUFcsUUFBUyx1UkFFWEMsV0FBWSxhQUFjLGFBQWMsT0FBUSxRQUFTLE1BQU8sWUFBYSxhQUFjLGFBQWMsZ0JBS3pHQyxFQUFhdkIsTUFFZndCLEtBQU0sU0FBY0MsR0FDbEJDLEtBQUtDLElBQU0sR0FBSXhCLElBQ2JhLFFBQVNTLEVBQVFULGdCQUVaUyxHQUFRVCxRQUNmUyxFQUFRRSxJQUFNRCxLQUFLQyxJQUNuQkQsS0FBS0UsS0FBTyxHQUFJeEIsR0FBUXFCLElBRzFCSSxvQkFBcUIsU0FBNkJDLEVBQU1iLEdBQ3RELE1BQUthLElBQVNiLEdBQXFCUyxLQUFLRSxLQUlqQyxHQUFJdEIsSUFHVHlCLFVBQVcsR0FBSXhCLElBQ2JxQixLQUFNRixLQUFLRSxLQUNYWCxpQkFBa0JBLEtBRW5CYSxHQVhILFFBZ0JGRSxnQkFBaUIsU0FBeUJDLEdBQ3hDLEdBQUtQLEtBQUtDLElBQVYsQ0FJQSxHQUFJTyxHQUFlLEdBQUk3QixHQUFhNEIsRUFFcEMsT0FEQVAsTUFBS0MsSUFBSVEsSUFBSUQsR0FDTkEsS0FLWCxLQUFLRSxFQUNILEdBQUlBLEdBQVksR0FBSWIsRUFHdEIsSUFBSWMsR0FBVywyVkFFWEMsRUFBWXRDLEdBQVNDLEVBQWFDLElBRXBDcUMsVUFBVyxhQUNYQyxJQUFLaEMsRUFDTGlDLGVBQWdCSixFQUdoQkssZUFBaUJaLEtBQU0sWUFBYWEsS0FBTSxlQWV4Q0MsRUFBTTVDLEdBQVNDLEVBQWFDLElBRTlCcUMsVUFBVyxNQUVYRSxlQUFnQiwrUEFHaEJJLFdBQVksV0FDVixHQUFJQyxHQUFRcEIsSUFFWkEsTUFBS3FCLFVBQVVDLFdBR2ZwQyxFQUFPQyxTQUFTb0MsVUFBWXZCLEtBQUt3QixRQUNqQ2QsRUFBVVosS0FBS1osRUFBT0MsVUFHdEJhLEtBQUt5QixVQUFZLEdBQUliLE1BQWNaLEtBQUswQixlQUd4QzFCLEtBQUsyQixjQUFnQmpCLEVBQVVQLG9CQUFvQkgsS0FBSzRCLGtCQUFtQjFDLEVBQU9LLGtCQUlsRm1CLEVBQVVKLGdCQUFnQnBCLEVBQU9NLDBCQUEwQnFDLEtBQUssU0FBVUMsR0FDeEVWLEVBQU1LLFVBQVVNLElBQUksUUFBU2hELEVBQVkrQyxFQUFNOUMsT0FBUzhDLEVBQU1FLFVBTWxFQyxRQUFTLFdBQ1BqQyxLQUFLeUIsVUFBVVEsVUFDZmpDLEtBQUsyQixjQUFjTSxZQUt2QkMsUUFBT0MsSUFBTSxHQUFJakIsTUFBUSxPQUN6QmdCLE9BQU9DLElBQUlGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZShbJ2Rvam8vX2Jhc2UvZGVjbGFyZScsICdkaWppdC9fV2lkZ2V0QmFzZScsICdkaWppdC9fVGVtcGxhdGVkTWl4aW4nLCAnZXNyaS9NYXAnLCAnZXNyaS92aWV3cy9NYXBWaWV3JywgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcicsICdlc3JpL3dpZGdldHMvQmFzZW1hcFRvZ2dsZScsICdlc3JpL3dpZGdldHMvQmFzZW1hcFRvZ2dsZS9CYXNlbWFwVG9nZ2xlVmlld01vZGVsJywgJ2Rvam8vaTE4biEuL25scy9zdHJpbmdzJ10sIGZ1bmN0aW9uIChkZWNsYXJlLCBfV2lkZ2V0QmFzZSwgX1RlbXBsYXRlZE1peGluLCBNYXAsIE1hcFZpZXcsIEZlYXR1cmVMYXllciwgQmFzZW1hcFRvZ2dsZSwgQmFzZW1hcFRvZ2dsZVZNLCBzdHJpbmdzKSB7IFxuXG4gIGRlY2xhcmUgPSAnZGVmYXVsdCcgaW4gZGVjbGFyZSA/IGRlY2xhcmVbJ2RlZmF1bHQnXSA6IGRlY2xhcmU7XG4gIF9XaWRnZXRCYXNlID0gJ2RlZmF1bHQnIGluIF9XaWRnZXRCYXNlID8gX1dpZGdldEJhc2VbJ2RlZmF1bHQnXSA6IF9XaWRnZXRCYXNlO1xuICBfVGVtcGxhdGVkTWl4aW4gPSAnZGVmYXVsdCcgaW4gX1RlbXBsYXRlZE1peGluID8gX1RlbXBsYXRlZE1peGluWydkZWZhdWx0J10gOiBfVGVtcGxhdGVkTWl4aW47XG4gIE1hcCA9ICdkZWZhdWx0JyBpbiBNYXAgPyBNYXBbJ2RlZmF1bHQnXSA6IE1hcDtcbiAgTWFwVmlldyA9ICdkZWZhdWx0JyBpbiBNYXBWaWV3ID8gTWFwVmlld1snZGVmYXVsdCddIDogTWFwVmlldztcbiAgRmVhdHVyZUxheWVyID0gJ2RlZmF1bHQnIGluIEZlYXR1cmVMYXllciA/IEZlYXR1cmVMYXllclsnZGVmYXVsdCddIDogRmVhdHVyZUxheWVyO1xuICBCYXNlbWFwVG9nZ2xlID0gJ2RlZmF1bHQnIGluIEJhc2VtYXBUb2dnbGUgPyBCYXNlbWFwVG9nZ2xlWydkZWZhdWx0J10gOiBCYXNlbWFwVG9nZ2xlO1xuICBCYXNlbWFwVG9nZ2xlVk0gPSAnZGVmYXVsdCcgaW4gQmFzZW1hcFRvZ2dsZVZNID8gQmFzZW1hcFRvZ2dsZVZNWydkZWZhdWx0J10gOiBCYXNlbWFwVG9nZ2xlVk07XG4gIHN0cmluZ3MgPSAnZGVmYXVsdCcgaW4gc3RyaW5ncyA/IHN0cmluZ3NbJ2RlZmF1bHQnXSA6IHN0cmluZ3M7XG5cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBtYXBQcm9wczoge1xuICAgICAgY2VudGVyOiBbLTEyMi4zMywgMzcuNzVdLFxuICAgICAgem9vbTogMTEsXG4gICAgICBiYXNlbWFwOiAnZGFyay1ncmF5J1xuICAgIH0sXG4gICAgc2Vjb25kYXJ5QmFzZW1hcDogJ3N0cmVldHMnLFxuICAgIGZ1ZWxpbmdTdGF0aW9uTGF5ZXJQcm9wczoge1xuICAgICAgdXJsOiAnaHR0cHM6Ly9zZXJ2aWNlcy5hcmNnaXMuY29tL3JPbzE2SGRJTWVPQkk0TWIvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvQWx0ZXJuYXRpdmVfRnVlbGluZ19TdGF0aW9ucy9GZWF0dXJlU2VydmVyLzAnLFxuICAgICAgcG9wdXBUZW1wbGF0ZToge1xuICAgICAgICB0aXRsZTogJ3tTdGF0aW9uX05hfScsXG4gICAgICAgIGNvbnRlbnQ6ICdcXG4gICAgICAgIDxwPntTdHJlZXRfQWRkfTxicj5cXG4gICAgICAgIHtDaXR5fSwge1N0YXRlfSwge1pJUH08L3A+XFxuXFxuICAgICAgICA8cD48Yj5GdWVsIFR5cGU6PC9iPiB7RnVlbF9UeXBlfTwvcD5cXG4gICAgICAgIDxwPjxiPlBob25lOjwvYj4gPGEgaHJlZj1cInRlbDp7U3RhdGlvbl9QaH1cIj57U3RhdGlvbl9QaH08L2E+PC9wPlxcbiAgICAgICAgPHA+PGI+T3BlbiB0bzo8L2I+IHtHcm91cHNfV2l0fTwvcD5cXG4gICAgICAgIDxwPjxiPkhvdXJzOjwvYj4ge0FjY2Vzc19EYXl9PC9wPidcbiAgICAgIH0sXG4gICAgICBvdXRGaWVsZHM6IFsnU3RhdGlvbl9OYScsICdTdHJlZXRfQWRkJywgJ0NpdHknLCAnU3RhdGUnLCAnWklQJywgJ0Z1ZWxfVHlwZScsICdTdGF0aW9uX1BoJywgJ0dyb3Vwc19XaXQnLCAnQWNjZXNzX0RheSddXG4gICAgfVxuICB9O1xuXG4gIC8vIGRlZmluZSBhIHN0YXRlZnVsIHNlcnZpY2UgdG8gbWFuYWdlIHRoZSBtYXBcbiAgdmFyIE1hcFNlcnZpY2UgPSBkZWNsYXJlKFtdLCB7XG4gICAgLy8gY3JlYXRlIGEgbWFwIGFuZCBtYXAgdmlld1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKHtcbiAgICAgICAgYmFzZW1hcDogb3B0aW9ucy5iYXNlbWFwXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmJhc2VtYXA7XG4gICAgICBvcHRpb25zLm1hcCA9IHRoaXMubWFwO1xuICAgICAgdGhpcy52aWV3ID0gbmV3IE1hcFZpZXcob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUJhc2VtYXBUb2dnbGU6IGZ1bmN0aW9uIGNyZWF0ZUJhc2VtYXBUb2dnbGUobm9kZSwgc2Vjb25kYXJ5QmFzZW1hcCkge1xuICAgICAgaWYgKCFub2RlIHx8ICFzZWNvbmRhcnlCYXNlbWFwIHx8ICF0aGlzLnZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJhc2VtYXBUb2dnbGUoe1xuICAgICAgICAvLyBTZXR0aW5nIHdpZGdldCBwcm9wZXJ0aWVzIHZpYSB2aWV3TW9kZWwgaXMgc3ViamVjdCB0b1xuICAgICAgICAvLyBjaGFuZ2UgZm9yIHRoZSA0LjAgZmluYWwgcmVsZWFzZVxuICAgICAgICB2aWV3TW9kZWw6IG5ldyBCYXNlbWFwVG9nZ2xlVk0oe1xuICAgICAgICAgIHZpZXc6IHRoaXMudmlldyxcbiAgICAgICAgICBzZWNvbmRhcnlCYXNlbWFwOiBzZWNvbmRhcnlCYXNlbWFwXG4gICAgICAgIH0pXG4gICAgICB9LCBub2RlKTtcbiAgICB9LFxuXG5cbiAgICAvLyBhZGQgYSBmZWF0dXJlIGxheWVyIHRvIHRoZSBtYXBcbiAgICBhZGRGZWF0dXJlTGF5ZXI6IGZ1bmN0aW9uIGFkZEZlYXR1cmVMYXllcihwcm9wcykge1xuICAgICAgaWYgKCF0aGlzLm1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBmZWF0dXJlTGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHByb3BzKTtcbiAgICAgIHRoaXMubWFwLmFkZChmZWF0dXJlTGF5ZXIpO1xuICAgICAgcmV0dXJuIGZlYXR1cmVMYXllcjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJldHVybiBhIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGlzIHNlcnZpY2VcbiAgaWYgKCFfaW5zdGFuY2UpIHtcbiAgICB2YXIgX2luc3RhbmNlID0gbmV3IE1hcFNlcnZpY2UoKTtcbiAgfVxuXG4gIHZhciB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdFxcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIj5cXHJcXG4gICAgPGgzIGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cXFwidGl0bGVOb2RlXFxcIj48L2gzPlxcclxcbiAgPC9kaXY+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXHJcXG4gICAgPGg0PjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWluZm8tc2lnblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj4gJHtubHMuQWJvdXR9PC9oND5cXHJcXG4gICAgPHA+JHtubHMuc2lkZVBhbmVsTWVzc2FnZX08L3A+XFxyXFxuICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcblxuICB2YXIgU2lkZVBhbmVsID0gZGVjbGFyZShbX1dpZGdldEJhc2UsIF9UZW1wbGF0ZWRNaXhpbl0sIHtcblxuICAgIGJhc2VDbGFzczogJ3NpZGUtcGFuZWwnLFxuICAgIG5sczogc3RyaW5ncyxcbiAgICB0ZW1wbGF0ZVN0cmluZzogdGVtcGxhdGUsXG5cbiAgICAvLyBzZXQgcGFuZWwgaGVhZGVyIHRpdGxlXG4gICAgX3NldFRpdGxlQXR0cjogeyBub2RlOiAndGl0bGVOb2RlJywgdHlwZTogJ2lubmVySFRNTCcgfVxuICB9KTtcblxuICAvLyBwbGFjZSBzdGF0ZWxlc3MgdXRpbGl0eSBmdW5jdGlvbnMgaW4gdGhpcyBmaWxlXG4gIC8vIHRoZXkgY2FuIGJlIGltcG9ydGVkIGludG8gb3RoZXIgZmlsZXMgYXMgbmVlZGVkXG4gIGZ1bmN0aW9uIGZvcm1hdFRpdGxlKHRpdGxlKSB7XG4gICAgaWYgKCF0aXRsZS5yZXBsYWNlKSB7XG4gICAgICAvLyBub3QgYSBzdHJpbmcsIGp1c3QgcmV0dXJuXG4gICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuXG4gICAgLy8gcmVwbGFjZSBkYXNoZXMgYW5kIHVuZGVyc2NvcmVzIHcvIHNwYWNlc1xuICAgIHJldHVybiB0aXRsZS5yZXBsYWNlKC8tfF8vZywgJyAnKTtcbiAgfVxuXG4gIHZhciBBcHAgPSBkZWNsYXJlKFtfV2lkZ2V0QmFzZSwgX1RlbXBsYXRlZE1peGluXSwge1xuXG4gICAgYmFzZUNsYXNzOiAnYXBwJyxcbiAgICAvLyB1c2luZyBhbiBpbmxpbmUgdGVtcGxhdGVcbiAgICB0ZW1wbGF0ZVN0cmluZzogJ1xcbiAgICA8ZGl2PlxcbiAgICAgIDxkaXYgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cIm1hcE5vZGVcIiBjbGFzcz1cIm1hcC1jb250YWluZXJcIj5cXG4gICAgICAgIDxkaXYgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cInNpZGVQYW5lbE5vZGVcIj48L2Rpdj5cXG4gICAgICAgIDxkaXYgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cImJhc2VtYXBUb2dnbGVOb2RlXCIgY2xhc3M9XCJiYXNlbWFwLXRvZ2dsZVwiIC8+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgJyxcblxuICAgIC8vIGtpY2sgb2ZmIGFwcCBvbmNlIHRoaXMgY29tcG9uZW50IGhhcyBiZWVuIGNyZWF0ZWRcbiAgICBwb3N0Q3JlYXRlOiBmdW5jdGlvbiBwb3N0Q3JlYXRlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5pbmhlcml0ZWQoYXJndW1lbnRzKTtcblxuICAgICAgLy8gaW5pdGlhbGl6ZSBtYXBcbiAgICAgIGNvbmZpZy5tYXBQcm9wcy5jb250YWluZXIgPSB0aGlzLm1hcE5vZGU7XG4gICAgICBfaW5zdGFuY2UuaW5pdChjb25maWcubWFwUHJvcHMpO1xuXG4gICAgICAvLyBpbml0aWFsaXplIHNpZGUgcGFuZWxcbiAgICAgIHRoaXMuc2lkZVBhbmVsID0gbmV3IFNpZGVQYW5lbCh7fSwgdGhpcy5zaWRlUGFuZWxOb2RlKTtcblxuICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgYmFzZW1hcCB0b2dnbGVcbiAgICAgIHRoaXMuYmFzZW1hcFRvZ2dsZSA9IF9pbnN0YW5jZS5jcmVhdGVCYXNlbWFwVG9nZ2xlKHRoaXMuYmFzZW1hcFRvZ2dsZU5vZGUsIGNvbmZpZy5zZWNvbmRhcnlCYXNlbWFwKTtcblxuICAgICAgLy8gYWRkIGZlYXR1cmUgbGF5ZXIgYW5kIG9uY2UgbG9hZGVkXG4gICAgICAvLyBzZXQgc2lkZSB0aXRsZSBvZiBzaWRlIHBhbmVsXG4gICAgICBfaW5zdGFuY2UuYWRkRmVhdHVyZUxheWVyKGNvbmZpZy5mdWVsaW5nU3RhdGlvbkxheWVyUHJvcHMpLnRoZW4oZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgIF90aGlzLnNpZGVQYW5lbC5zZXQoJ3RpdGxlJywgZm9ybWF0VGl0bGUobGF5ZXIudGl0bGUgfHwgbGF5ZXIubmFtZSkpO1xuICAgICAgfSk7XG4gICAgfSxcblxuXG4gICAgLy8geW91IGdvdHRhIHN0YXJ0IG1lIHVwXG4gICAgc3RhcnR1cDogZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgICAgIHRoaXMuc2lkZVBhbmVsLnN0YXJ0dXAoKTtcbiAgICAgIHRoaXMuYmFzZW1hcFRvZ2dsZS5zdGFydHVwKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbml0aWFsaXplIGFwcCB0byBnbG9iYWwgdmFyIGZvciBkZWJ1Z2dpbmdcbiAgd2luZG93LmFwcCA9IG5ldyBBcHAoe30sICdhcHAnKTtcbiAgd2luZG93LmFwcC5zdGFydHVwKCk7XG5cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
