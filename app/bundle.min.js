define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/BasemapToggle","esri/widgets/BasemapToggle/BasemapToggleViewModel","dojo/i18n!./nls/strings"],function(e,a,t,i,n,s,d,p,r){function l(e){return e.replace?e.replace(/-|_/g," "):e}e="default"in e?e["default"]:e,a="default"in a?a["default"]:a,t="default"in t?t["default"]:t,i="default"in i?i["default"]:i,n="default"in n?n["default"]:n,s="default"in s?s["default"]:s,d="default"in d?d["default"]:d,p="default"in p?p["default"]:p,r="default"in r?r["default"]:r;var o={mapProps:{center:[-122.33,37.75],zoom:11,basemap:"dark-gray"},secondaryBasemap:"streets",fuelingStationLayerProps:{url:"https://services.arcgis.com/rOo16HdIMeOBI4Mb/arcgis/rest/services/Alternative_Fueling_Stations/FeatureServer/0",popupTemplate:{title:"{Station_Na}",content:'\n        <p>{Street_Add}<br>\n        {City}, {State}, {ZIP}</p>\n\n        <p><b>Fuel Type:</b> {Fuel_Type}</p>\n        <p><b>Phone:</b> <a href="tel:{Station_Ph}">{Station_Ph}</a></p>\n        <p><b>Open to:</b> {Groups_Wit}</p>\n        <p><b>Hours:</b> {Access_Day}</p>'},outFields:["Station_Na","Street_Add","City","State","ZIP","Fuel_Type","Station_Ph","Groups_Wit","Access_Day"]}},u=e([],{init:function(e){this.map=new i({basemap:e.basemap}),delete e.basemap,e.map=this.map,this.view=new n(e)},createBasemapToggle:function(e,a){return e&&a&&this.view?new d({viewModel:new p({view:this.view,secondaryBasemap:a})},e):void 0},addFeatureLayer:function(e){if(this.map){var a=new s(e);return this.map.add(a),a}}});if(!c)var c=new u;var g='<div class="panel panel-default">\r\n  <div class="panel-heading">\r\n    <h3 class="panel-title" data-dojo-attach-point="titleNode"></h3>\r\n  </div>\r\n  <div class="panel-body">\r\n    <h4>${nls.About}</h4>\r\n    <p>${nls.sidePanelMessage}</p>\r\n  </div>\r\n</div>\r\n',m=e([a,t],{baseClass:"side-panel",nls:r,templateString:g,_setTitleAttr:{node:"titleNode",type:"innerHTML"}}),f=e([a,t],{baseClass:"app",templateString:'\n    <div>\n      <div data-dojo-attach-point="mapNode" class="map-container">\n        <div data-dojo-attach-point="sidePanelNode"></div>\n        <div data-dojo-attach-point="basemapToggleNode" class="basemap-toggle" />\n      </div>\n    </div>\n  ',postCreate:function(){var e=this;this.inherited(arguments),o.mapProps.container=this.mapNode,c.init(o.mapProps),this.sidePanel=new m({},this.sidePanelNode),this.basemapToggle=c.createBasemapToggle(this.basemapToggleNode,o.secondaryBasemap),c.addFeatureLayer(o.fuelingStationLayerProps).then(function(a){e.sidePanel.set("title",l(a.title||a.name))})},startup:function(){this.sidePanel.startup(),this.basemapToggle.startup()}});window.app=new f({},"app"),window.app.startup()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJkZWNsYXJlIiwiX1dpZGdldEJhc2UiLCJfVGVtcGxhdGVkTWl4aW4iLCJNYXAiLCJNYXBWaWV3IiwiRmVhdHVyZUxheWVyIiwiQmFzZW1hcFRvZ2dsZSIsIkJhc2VtYXBUb2dnbGVWTSIsInN0cmluZ3MiLCJmb3JtYXRUaXRsZSIsInRpdGxlIiwicmVwbGFjZSIsImNvbmZpZyIsIm1hcFByb3BzIiwiY2VudGVyIiwiem9vbSIsImJhc2VtYXAiLCJzZWNvbmRhcnlCYXNlbWFwIiwiZnVlbGluZ1N0YXRpb25MYXllclByb3BzIiwidXJsIiwicG9wdXBUZW1wbGF0ZSIsImNvbnRlbnQiLCJvdXRGaWVsZHMiLCJNYXBTZXJ2aWNlIiwiaW5pdCIsIm9wdGlvbnMiLCJ0aGlzIiwibWFwIiwidmlldyIsImNyZWF0ZUJhc2VtYXBUb2dnbGUiLCJub2RlIiwidmlld01vZGVsIiwiYWRkRmVhdHVyZUxheWVyIiwicHJvcHMiLCJmZWF0dXJlTGF5ZXIiLCJhZGQiLCJfaW5zdGFuY2UiLCJ0ZW1wbGF0ZSIsIlNpZGVQYW5lbCIsImJhc2VDbGFzcyIsIm5scyIsInRlbXBsYXRlU3RyaW5nIiwiX3NldFRpdGxlQXR0ciIsInR5cGUiLCJBcHAiLCJwb3N0Q3JlYXRlIiwiX3RoaXMiLCJpbmhlcml0ZWQiLCJhcmd1bWVudHMiLCJjb250YWluZXIiLCJtYXBOb2RlIiwic2lkZVBhbmVsIiwic2lkZVBhbmVsTm9kZSIsImJhc2VtYXBUb2dnbGUiLCJiYXNlbWFwVG9nZ2xlTm9kZSIsInRoZW4iLCJsYXllciIsInNldCIsIm5hbWUiLCJzdGFydHVwIiwid2luZG93IiwiYXBwIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUSxxQkFBc0Isb0JBQXFCLHdCQUF5QixXQUFZLHFCQUFzQiwyQkFBNEIsNkJBQThCLG9EQUFxRCwyQkFBNEIsU0FBVUMsRUFBU0MsRUFBYUMsRUFBaUJDLEVBQUtDLEVBQVNDLEVBQWNDLEVBQWVDLEVBQWlCQyxHQXdGcFcsUUFBU0MsR0FBWUMsR0FDbkIsTUFBS0EsR0FBTUMsUUFNSkQsRUFBTUMsUUFBUSxPQUFRLEtBSnBCRCxFQXpGWFYsRUFBVSxXQUFhQSxHQUFVQSxFQUFRLFdBQWFBLEVBQ3REQyxFQUFjLFdBQWFBLEdBQWNBLEVBQVksV0FBYUEsRUFDbEVDLEVBQWtCLFdBQWFBLEdBQWtCQSxFQUFnQixXQUFhQSxFQUM5RUMsRUFBTSxXQUFhQSxHQUFNQSxFQUFJLFdBQWFBLEVBQzFDQyxFQUFVLFdBQWFBLEdBQVVBLEVBQVEsV0FBYUEsRUFDdERDLEVBQWUsV0FBYUEsR0FBZUEsRUFBYSxXQUFhQSxFQUNyRUMsRUFBZ0IsV0FBYUEsR0FBZ0JBLEVBQWMsV0FBYUEsRUFDeEVDLEVBQWtCLFdBQWFBLEdBQWtCQSxFQUFnQixXQUFhQSxFQUM5RUMsRUFBVSxXQUFhQSxHQUFVQSxFQUFRLFdBQWFBLENBRXRELElBQUlJLElBQ0ZDLFVBQ0VDLFFBQVMsUUFBUyxPQUNsQkMsS0FBTSxHQUNOQyxRQUFTLGFBRVhDLGlCQUFrQixVQUNsQkMsMEJBQ0VDLElBQUssaUhBQ0xDLGVBQ0VWLE1BQU8sZUFDUFcsUUFBUyx1UkFFWEMsV0FBWSxhQUFjLGFBQWMsT0FBUSxRQUFTLE1BQU8sWUFBYSxhQUFjLGFBQWMsZ0JBS3pHQyxFQUFhdkIsTUFFZndCLEtBQU0sU0FBY0MsR0FDbEJDLEtBQUtDLElBQU0sR0FBSXhCLElBQ2JhLFFBQVNTLEVBQVFULGdCQUVaUyxHQUFRVCxRQUNmUyxFQUFRRSxJQUFNRCxLQUFLQyxJQUNuQkQsS0FBS0UsS0FBTyxHQUFJeEIsR0FBUXFCLElBRzFCSSxvQkFBcUIsU0FBNkJDLEVBQU1iLEdBQ3RELE1BQUthLElBQVNiLEdBQXFCUyxLQUFLRSxLQUlqQyxHQUFJdEIsSUFHVHlCLFVBQVcsR0FBSXhCLElBQ2JxQixLQUFNRixLQUFLRSxLQUNYWCxpQkFBa0JBLEtBRW5CYSxHQVhILFFBZ0JGRSxnQkFBaUIsU0FBeUJDLEdBQ3hDLEdBQUtQLEtBQUtDLElBQVYsQ0FJQSxHQUFJTyxHQUFlLEdBQUk3QixHQUFhNEIsRUFFcEMsT0FEQVAsTUFBS0MsSUFBSVEsSUFBSUQsR0FDTkEsS0FLWCxLQUFLRSxFQUNILEdBQUlBLEdBQVksR0FBSWIsRUFHdEIsSUFBSWMsR0FBVyxvUkFFWEMsRUFBWXRDLEdBQVNDLEVBQWFDLElBRXBDcUMsVUFBVyxhQUNYQyxJQUFLaEMsRUFDTGlDLGVBQWdCSixFQUdoQkssZUFBaUJaLEtBQU0sWUFBYWEsS0FBTSxlQWV4Q0MsRUFBTTVDLEdBQVNDLEVBQWFDLElBRTlCcUMsVUFBVyxNQUVYRSxlQUFnQiwrUEFHaEJJLFdBQVksV0FDVixHQUFJQyxHQUFRcEIsSUFFWkEsTUFBS3FCLFVBQVVDLFdBR2ZwQyxFQUFPQyxTQUFTb0MsVUFBWXZCLEtBQUt3QixRQUNqQ2QsRUFBVVosS0FBS1osRUFBT0MsVUFHdEJhLEtBQUt5QixVQUFZLEdBQUliLE1BQWNaLEtBQUswQixlQUd4QzFCLEtBQUsyQixjQUFnQmpCLEVBQVVQLG9CQUFvQkgsS0FBSzRCLGtCQUFtQjFDLEVBQU9LLGtCQUlsRm1CLEVBQVVKLGdCQUFnQnBCLEVBQU9NLDBCQUEwQnFDLEtBQUssU0FBVUMsR0FDeEVWLEVBQU1LLFVBQVVNLElBQUksUUFBU2hELEVBQVkrQyxFQUFNOUMsT0FBUzhDLEVBQU1FLFVBTWxFQyxRQUFTLFdBQ1BqQyxLQUFLeUIsVUFBVVEsVUFDZmpDLEtBQUsyQixjQUFjTSxZQUt2QkMsUUFBT0MsSUFBTSxHQUFJakIsTUFBUSxPQUN6QmdCLE9BQU9DLElBQUlGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZShbJ2Rvam8vX2Jhc2UvZGVjbGFyZScsICdkaWppdC9fV2lkZ2V0QmFzZScsICdkaWppdC9fVGVtcGxhdGVkTWl4aW4nLCAnZXNyaS9NYXAnLCAnZXNyaS92aWV3cy9NYXBWaWV3JywgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcicsICdlc3JpL3dpZGdldHMvQmFzZW1hcFRvZ2dsZScsICdlc3JpL3dpZGdldHMvQmFzZW1hcFRvZ2dsZS9CYXNlbWFwVG9nZ2xlVmlld01vZGVsJywgJ2Rvam8vaTE4biEuL25scy9zdHJpbmdzJ10sIGZ1bmN0aW9uIChkZWNsYXJlLCBfV2lkZ2V0QmFzZSwgX1RlbXBsYXRlZE1peGluLCBNYXAsIE1hcFZpZXcsIEZlYXR1cmVMYXllciwgQmFzZW1hcFRvZ2dsZSwgQmFzZW1hcFRvZ2dsZVZNLCBzdHJpbmdzKSB7IFxuXG4gIGRlY2xhcmUgPSAnZGVmYXVsdCcgaW4gZGVjbGFyZSA/IGRlY2xhcmVbJ2RlZmF1bHQnXSA6IGRlY2xhcmU7XG4gIF9XaWRnZXRCYXNlID0gJ2RlZmF1bHQnIGluIF9XaWRnZXRCYXNlID8gX1dpZGdldEJhc2VbJ2RlZmF1bHQnXSA6IF9XaWRnZXRCYXNlO1xuICBfVGVtcGxhdGVkTWl4aW4gPSAnZGVmYXVsdCcgaW4gX1RlbXBsYXRlZE1peGluID8gX1RlbXBsYXRlZE1peGluWydkZWZhdWx0J10gOiBfVGVtcGxhdGVkTWl4aW47XG4gIE1hcCA9ICdkZWZhdWx0JyBpbiBNYXAgPyBNYXBbJ2RlZmF1bHQnXSA6IE1hcDtcbiAgTWFwVmlldyA9ICdkZWZhdWx0JyBpbiBNYXBWaWV3ID8gTWFwVmlld1snZGVmYXVsdCddIDogTWFwVmlldztcbiAgRmVhdHVyZUxheWVyID0gJ2RlZmF1bHQnIGluIEZlYXR1cmVMYXllciA/IEZlYXR1cmVMYXllclsnZGVmYXVsdCddIDogRmVhdHVyZUxheWVyO1xuICBCYXNlbWFwVG9nZ2xlID0gJ2RlZmF1bHQnIGluIEJhc2VtYXBUb2dnbGUgPyBCYXNlbWFwVG9nZ2xlWydkZWZhdWx0J10gOiBCYXNlbWFwVG9nZ2xlO1xuICBCYXNlbWFwVG9nZ2xlVk0gPSAnZGVmYXVsdCcgaW4gQmFzZW1hcFRvZ2dsZVZNID8gQmFzZW1hcFRvZ2dsZVZNWydkZWZhdWx0J10gOiBCYXNlbWFwVG9nZ2xlVk07XG4gIHN0cmluZ3MgPSAnZGVmYXVsdCcgaW4gc3RyaW5ncyA/IHN0cmluZ3NbJ2RlZmF1bHQnXSA6IHN0cmluZ3M7XG5cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBtYXBQcm9wczoge1xuICAgICAgY2VudGVyOiBbLTEyMi4zMywgMzcuNzVdLFxuICAgICAgem9vbTogMTEsXG4gICAgICBiYXNlbWFwOiAnZGFyay1ncmF5J1xuICAgIH0sXG4gICAgc2Vjb25kYXJ5QmFzZW1hcDogJ3N0cmVldHMnLFxuICAgIGZ1ZWxpbmdTdGF0aW9uTGF5ZXJQcm9wczoge1xuICAgICAgdXJsOiAnaHR0cHM6Ly9zZXJ2aWNlcy5hcmNnaXMuY29tL3JPbzE2SGRJTWVPQkk0TWIvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvQWx0ZXJuYXRpdmVfRnVlbGluZ19TdGF0aW9ucy9GZWF0dXJlU2VydmVyLzAnLFxuICAgICAgcG9wdXBUZW1wbGF0ZToge1xuICAgICAgICB0aXRsZTogJ3tTdGF0aW9uX05hfScsXG4gICAgICAgIGNvbnRlbnQ6ICdcXG4gICAgICAgIDxwPntTdHJlZXRfQWRkfTxicj5cXG4gICAgICAgIHtDaXR5fSwge1N0YXRlfSwge1pJUH08L3A+XFxuXFxuICAgICAgICA8cD48Yj5GdWVsIFR5cGU6PC9iPiB7RnVlbF9UeXBlfTwvcD5cXG4gICAgICAgIDxwPjxiPlBob25lOjwvYj4gPGEgaHJlZj1cInRlbDp7U3RhdGlvbl9QaH1cIj57U3RhdGlvbl9QaH08L2E+PC9wPlxcbiAgICAgICAgPHA+PGI+T3BlbiB0bzo8L2I+IHtHcm91cHNfV2l0fTwvcD5cXG4gICAgICAgIDxwPjxiPkhvdXJzOjwvYj4ge0FjY2Vzc19EYXl9PC9wPidcbiAgICAgIH0sXG4gICAgICBvdXRGaWVsZHM6IFsnU3RhdGlvbl9OYScsICdTdHJlZXRfQWRkJywgJ0NpdHknLCAnU3RhdGUnLCAnWklQJywgJ0Z1ZWxfVHlwZScsICdTdGF0aW9uX1BoJywgJ0dyb3Vwc19XaXQnLCAnQWNjZXNzX0RheSddXG4gICAgfVxuICB9O1xuXG4gIC8vIGRlZmluZSBhIHN0YXRlZnVsIHNlcnZpY2UgdG8gbWFuYWdlIHRoZSBtYXBcbiAgdmFyIE1hcFNlcnZpY2UgPSBkZWNsYXJlKFtdLCB7XG4gICAgLy8gY3JlYXRlIGEgbWFwIGFuZCBtYXAgdmlld1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKHtcbiAgICAgICAgYmFzZW1hcDogb3B0aW9ucy5iYXNlbWFwXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmJhc2VtYXA7XG4gICAgICBvcHRpb25zLm1hcCA9IHRoaXMubWFwO1xuICAgICAgdGhpcy52aWV3ID0gbmV3IE1hcFZpZXcob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUJhc2VtYXBUb2dnbGU6IGZ1bmN0aW9uIGNyZWF0ZUJhc2VtYXBUb2dnbGUobm9kZSwgc2Vjb25kYXJ5QmFzZW1hcCkge1xuICAgICAgaWYgKCFub2RlIHx8ICFzZWNvbmRhcnlCYXNlbWFwIHx8ICF0aGlzLnZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJhc2VtYXBUb2dnbGUoe1xuICAgICAgICAvLyBTZXR0aW5nIHdpZGdldCBwcm9wZXJ0aWVzIHZpYSB2aWV3TW9kZWwgaXMgc3ViamVjdCB0b1xuICAgICAgICAvLyBjaGFuZ2UgZm9yIHRoZSA0LjAgZmluYWwgcmVsZWFzZVxuICAgICAgICB2aWV3TW9kZWw6IG5ldyBCYXNlbWFwVG9nZ2xlVk0oe1xuICAgICAgICAgIHZpZXc6IHRoaXMudmlldyxcbiAgICAgICAgICBzZWNvbmRhcnlCYXNlbWFwOiBzZWNvbmRhcnlCYXNlbWFwXG4gICAgICAgIH0pXG4gICAgICB9LCBub2RlKTtcbiAgICB9LFxuXG5cbiAgICAvLyBhZGQgYSBmZWF0dXJlIGxheWVyIHRvIHRoZSBtYXBcbiAgICBhZGRGZWF0dXJlTGF5ZXI6IGZ1bmN0aW9uIGFkZEZlYXR1cmVMYXllcihwcm9wcykge1xuICAgICAgaWYgKCF0aGlzLm1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBmZWF0dXJlTGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHByb3BzKTtcbiAgICAgIHRoaXMubWFwLmFkZChmZWF0dXJlTGF5ZXIpO1xuICAgICAgcmV0dXJuIGZlYXR1cmVMYXllcjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJldHVybiBhIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGlzIHNlcnZpY2VcbiAgaWYgKCFfaW5zdGFuY2UpIHtcbiAgICB2YXIgX2luc3RhbmNlID0gbmV3IE1hcFNlcnZpY2UoKTtcbiAgfVxuXG4gIHZhciB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdFxcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIj5cXHJcXG4gICAgPGgzIGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCIgZGF0YS1kb2pvLWF0dGFjaC1wb2ludD1cXFwidGl0bGVOb2RlXFxcIj48L2gzPlxcclxcbiAgPC9kaXY+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXHJcXG4gICAgPGg0PiR7bmxzLkFib3V0fTwvaDQ+XFxyXFxuICAgIDxwPiR7bmxzLnNpZGVQYW5lbE1lc3NhZ2V9PC9wPlxcclxcbiAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG5cbiAgdmFyIFNpZGVQYW5lbCA9IGRlY2xhcmUoW19XaWRnZXRCYXNlLCBfVGVtcGxhdGVkTWl4aW5dLCB7XG5cbiAgICBiYXNlQ2xhc3M6ICdzaWRlLXBhbmVsJyxcbiAgICBubHM6IHN0cmluZ3MsXG4gICAgdGVtcGxhdGVTdHJpbmc6IHRlbXBsYXRlLFxuXG4gICAgLy8gc2V0IHBhbmVsIGhlYWRlciB0aXRsZVxuICAgIF9zZXRUaXRsZUF0dHI6IHsgbm9kZTogJ3RpdGxlTm9kZScsIHR5cGU6ICdpbm5lckhUTUwnIH1cbiAgfSk7XG5cbiAgLy8gcGxhY2Ugc3RhdGVsZXNzIHV0aWxpdHkgZnVuY3Rpb25zIGluIHRoaXMgZmlsZVxuICAvLyB0aGV5IGNhbiBiZSBpbXBvcnRlZCBpbnRvIG90aGVyIGZpbGVzIGFzIG5lZWRlZFxuICBmdW5jdGlvbiBmb3JtYXRUaXRsZSh0aXRsZSkge1xuICAgIGlmICghdGl0bGUucmVwbGFjZSkge1xuICAgICAgLy8gbm90IGEgc3RyaW5nLCBqdXN0IHJldHVyblxuICAgICAgcmV0dXJuIHRpdGxlO1xuICAgIH1cblxuICAgIC8vIHJlcGxhY2UgZGFzaGVzIGFuZCB1bmRlcnNjb3JlcyB3LyBzcGFjZXNcbiAgICByZXR1cm4gdGl0bGUucmVwbGFjZSgvLXxfL2csICcgJyk7XG4gIH1cblxuICB2YXIgQXBwID0gZGVjbGFyZShbX1dpZGdldEJhc2UsIF9UZW1wbGF0ZWRNaXhpbl0sIHtcblxuICAgIGJhc2VDbGFzczogJ2FwcCcsXG4gICAgLy8gdXNpbmcgYW4gaW5saW5lIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVTdHJpbmc6ICdcXG4gICAgPGRpdj5cXG4gICAgICA8ZGl2IGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJtYXBOb2RlXCIgY2xhc3M9XCJtYXAtY29udGFpbmVyXCI+XFxuICAgICAgICA8ZGl2IGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJzaWRlUGFuZWxOb2RlXCI+PC9kaXY+XFxuICAgICAgICA8ZGl2IGRhdGEtZG9qby1hdHRhY2gtcG9pbnQ9XCJiYXNlbWFwVG9nZ2xlTm9kZVwiIGNsYXNzPVwiYmFzZW1hcC10b2dnbGVcIiAvPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICcsXG5cbiAgICAvLyBraWNrIG9mZiBhcHAgb25jZSB0aGlzIGNvbXBvbmVudCBoYXMgYmVlbiBjcmVhdGVkXG4gICAgcG9zdENyZWF0ZTogZnVuY3Rpb24gcG9zdENyZWF0ZSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuaW5oZXJpdGVkKGFyZ3VtZW50cyk7XG5cbiAgICAgIC8vIGluaXRpYWxpemUgbWFwXG4gICAgICBjb25maWcubWFwUHJvcHMuY29udGFpbmVyID0gdGhpcy5tYXBOb2RlO1xuICAgICAgX2luc3RhbmNlLmluaXQoY29uZmlnLm1hcFByb3BzKTtcblxuICAgICAgLy8gaW5pdGlhbGl6ZSBzaWRlIHBhbmVsXG4gICAgICB0aGlzLnNpZGVQYW5lbCA9IG5ldyBTaWRlUGFuZWwoe30sIHRoaXMuc2lkZVBhbmVsTm9kZSk7XG5cbiAgICAgIC8vIGluaXRpYWxpemUgdGhlIGJhc2VtYXAgdG9nZ2xlXG4gICAgICB0aGlzLmJhc2VtYXBUb2dnbGUgPSBfaW5zdGFuY2UuY3JlYXRlQmFzZW1hcFRvZ2dsZSh0aGlzLmJhc2VtYXBUb2dnbGVOb2RlLCBjb25maWcuc2Vjb25kYXJ5QmFzZW1hcCk7XG5cbiAgICAgIC8vIGFkZCBmZWF0dXJlIGxheWVyIGFuZCBvbmNlIGxvYWRlZFxuICAgICAgLy8gc2V0IHNpZGUgdGl0bGUgb2Ygc2lkZSBwYW5lbFxuICAgICAgX2luc3RhbmNlLmFkZEZlYXR1cmVMYXllcihjb25maWcuZnVlbGluZ1N0YXRpb25MYXllclByb3BzKS50aGVuKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICBfdGhpcy5zaWRlUGFuZWwuc2V0KCd0aXRsZScsIGZvcm1hdFRpdGxlKGxheWVyLnRpdGxlIHx8IGxheWVyLm5hbWUpKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIC8vIHlvdSBnb3R0YSBzdGFydCBtZSB1cFxuICAgIHN0YXJ0dXA6IGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gICAgICB0aGlzLnNpZGVQYW5lbC5zdGFydHVwKCk7XG4gICAgICB0aGlzLmJhc2VtYXBUb2dnbGUuc3RhcnR1cCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaW5pdGlhbGl6ZSBhcHAgdG8gZ2xvYmFsIHZhciBmb3IgZGVidWdnaW5nXG4gIHdpbmRvdy5hcHAgPSBuZXcgQXBwKHt9LCAnYXBwJyk7XG4gIHdpbmRvdy5hcHAuc3RhcnR1cCgpO1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
